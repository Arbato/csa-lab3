source_code: |
  .data
  a: 1
  b: 1
  c: 0
  sum: 0
  limit: 4000000
  .instructions
  loop:
  ;check 4million
  cmp limit
  jne end

  ld a
  add b
  st c

  ld c
  add sum
  st sum

  ld b
  add c
  st a

  ld c
  add a
  st b
  jmp loop

  end:
  ld sum
  out
  hlt

stdin: |
  nothin

stdout: |
  4613732
out_code: |
  [{"index": 0, "opcode": "jmp", "arg": 6, "term": [5, 0, "Jump to start"], "direct": true},
  {"index": 1, "arg": 1},
  {"index": 2, "arg": 1},
  {"index": 3, "arg": 0},
  {"index": 4, "arg": 0},
  {"index": 5, "arg": 4000000},
  {"index": 6, "opcode": "cmp", "arg": 5, "term": [2, 0, "cmp limit"], "direct": false},
  {"index": 7, "opcode": "jne", "arg": 21, "term": [3, 0, "jne end"], "direct": true},
  {"index": 8, "opcode": "ld", "arg": 1, "term": [4, 0, "ld a"], "direct": false},
  {"index": 9, "opcode": "add", "arg": 2, "term": [5, 0, "add b"], "direct": false},
  {"index": 10, "opcode": "st", "arg": 3, "term": [6, 0, "st c"], "direct": false},
  {"index": 11, "opcode": "ld", "arg": 3, "term": [7, 0, "ld c"], "direct": false},
  {"index": 12, "opcode": "add", "arg": 4, "term": [8, 0, "add sum"], "direct": false},
  {"index": 13, "opcode": "st", "arg": 4, "term": [9, 0, "st sum"], "direct": false},
  {"index": 14, "opcode": "ld", "arg": 2, "term": [10, 0, "ld b"], "direct": false},
  {"index": 15, "opcode": "add", "arg": 3, "term": [11, 0, "add c"], "direct": false},
  {"index": 16, "opcode": "st", "arg": 1, "term": [12, 0, "st a"], "direct": false},
  {"index": 17, "opcode": "ld", "arg": 3, "term": [13, 0, "ld c"], "direct": false},
  {"index": 18, "opcode": "add", "arg": 1, "term": [14, 0, "add a"], "direct": false},
  {"index": 19, "opcode": "st", "arg": 2, "term": [15, 0, "st b"], "direct": false},
  {"index": 20, "opcode": "jmp", "arg": 6, "term": [16, 0, "jmp loop"], "direct": true},
  {"index": 21, "opcode": "ld", "arg": 4, "term": [18, 0, "ld sum"], "direct": false},
  {"index": 22, "opcode": "out", "term": [19, 0, "out"], "direct": false},
  {"index": 23, "opcode": "hlt", "term": [20, 0, "hlt"], "direct": false}]


out_log: |
  DEBUG root ACC:          0 |AR:     0 |IP:     0 |DR:          0 |SP:   256 |Jump to start
  DEBUG root ACC:          0 |AR:     6 |IP:     7 |DR:          6 |SP:   256 |cmp limit
  DEBUG root ACC:   -4000000 |AR:     7 |IP:     8 |DR:          5 |SP:   256 |jne end
  DEBUG root ACC:   -4000000 |AR:     8 |IP:     9 |DR:         21 |SP:   256 |ld a
  DEBUG root ACC:          1 |AR:     9 |IP:    10 |DR:          1 |SP:   256 |add b
  DEBUG root ACC:          2 |AR:    10 |IP:    11 |DR:          2 |SP:   256 |st c
  DEBUG root ACC:          2 |AR:    11 |IP:    12 |DR:          3 |SP:   256 |ld c
  DEBUG root ACC:          2 |AR:    12 |IP:    13 |DR:          3 |SP:   256 |add sum
  DEBUG root ACC:          2 |AR:    13 |IP:    14 |DR:          4 |SP:   256 |st sum
  DEBUG root ACC:          2 |AR:    14 |IP:    15 |DR:          4 |SP:   256 |ld b
  DEBUG root ACC:          1 |AR:    15 |IP:    16 |DR:          2 |SP:   256 |add c
  DEBUG root ACC:          3 |AR:    16 |IP:    17 |DR:          3 |SP:   256 |st a
  DEBUG root ACC:          3 |AR:    17 |IP:    18 |DR:          1 |SP:   256 |ld c
  DEBUG root ACC:          2 |AR:    18 |IP:    19 |DR:          3 |SP:   256 |add a
  DEBUG root ACC:          5 |AR:    19 |IP:    20 |DR:          1 |SP:   256 |st b
  DEBUG root ACC:          5 |AR:    20 |IP:    21 |DR:          2 |SP:   256 |jmp loop
  DEBUG root ACC:          5 |AR:     6 |IP:     7 |DR:          6 |SP:   256 |cmp limit
  DEBUG root ACC:   -3999995 |AR:     7 |IP:     8 |DR:          5 |SP:   256 |jne end
  DEBUG root ACC:   -3999995 |AR:     8 |IP:     9 |DR:         21 |SP:   256 |ld a
  DEBUG root ACC:          3 |AR:     9 |IP:    10 |DR:          1 |SP:   256 |add b
  DEBUG root ACC:          8 |AR:    10 |IP:    11 |DR:          2 |SP:   256 |st c
  DEBUG root ACC:          8 |AR:    11 |IP:    12 |DR:          3 |SP:   256 |ld c
  DEBUG root ACC:          8 |AR:    12 |IP:    13 |DR:          3 |SP:   256 |add sum
  DEBUG root ACC:         10 |AR:    13 |IP:    14 |DR:          4 |SP:   256 |st sum
  DEBUG root ACC:         10 |AR:    14 |IP:    15 |DR:          4 |SP:   256 |ld b
  DEBUG root ACC:          5 |AR:    15 |IP:    16 |DR:          2 |SP:   256 |add c
  DEBUG root ACC:         13 |AR:    16 |IP:    17 |DR:          3 |SP:   256 |st a
  DEBUG root ACC:         13 |AR:    17 |IP:    18 |DR:          1 |SP:   256 |ld c
  DEBUG root ACC:          8 |AR:    18 |IP:    19 |DR:          3 |SP:   256 |add a
  DEBUG root ACC:         21 |AR:    19 |IP:    20 |DR:          1 |SP:   256 |st b
  DEBUG root ACC:         21 |AR:    20 |IP:    21 |DR:          2 |SP:   256 |jmp loop
  DEBUG root ACC:         21 |AR:     6 |IP:     7 |DR:          6 |SP:   256 |cmp limit
  DEBUG root ACC:   -3999979 |AR:     7 |IP:     8 |DR:          5 |SP:   256 |jne end
  DEBUG root ACC:   -3999979 |AR:     8 |IP:     9 |DR:         21 |SP:   256 |ld a
  DEBUG root ACC:         13 |AR:     9 |IP:    10 |DR:          1 |SP:   256 |add b
  DEBUG root ACC:         34 |AR:    10 |IP:    11 |DR:          2 |SP:   256 |st c
  DEBUG root ACC:         34 |AR:    11 |IP:    12 |DR:          3 |SP:   256 |ld c
  DEBUG root ACC:         34 |AR:    12 |IP:    13 |DR:          3 |SP:   256 |add sum
  DEBUG root ACC:         44 |AR:    13 |IP:    14 |DR:          4 |SP:   256 |st sum
  DEBUG root ACC:         44 |AR:    14 |IP:    15 |DR:          4 |SP:   256 |ld b
  DEBUG root ACC:         21 |AR:    15 |IP:    16 |DR:          2 |SP:   256 |add c
  DEBUG root ACC:         55 |AR:    16 |IP:    17 |DR:          3 |SP:   256 |st a
  DEBUG root ACC:         55 |AR:    17 |IP:    18 |DR:          1 |SP:   256 |ld c
  DEBUG root ACC:         34 |AR:    18 |IP:    19 |DR:          3 |SP:   256 |add a
  DEBUG root ACC:         89 |AR:    19 |IP:    20 |DR:          1 |SP:   256 |st b
  DEBUG root ACC:         89 |AR:    20 |IP:    21 |DR:          2 |SP:   256 |jmp loop
  DEBUG root ACC:         89 |AR:     6 |IP:     7 |DR:          6 |SP:   256 |cmp limit
  DEBUG root ACC:   -3999911 |AR:     7 |IP:     8 |DR:          5 |SP:   256 |jne end
  DEBUG root ACC:   -3999911 |AR:     8 |IP:     9 |DR:         21 |SP:   256 |ld a
  DEBUG root ACC:         55 |AR:     9 |IP:    10 |DR:          1 |SP:   256 |add b
  DEBUG root ACC:        144 |AR:    10 |IP:    11 |DR:          2 |SP:   256 |st c
  DEBUG root ACC:        144 |AR:    11 |IP:    12 |DR:          3 |SP:   256 |ld c
  DEBUG root ACC:        144 |AR:    12 |IP:    13 |DR:          3 |SP:   256 |add sum
  DEBUG root ACC:        188 |AR:    13 |IP:    14 |DR:          4 |SP:   256 |st sum
  DEBUG root ACC:        188 |AR:    14 |IP:    15 |DR:          4 |SP:   256 |ld b
  DEBUG root ACC:         89 |AR:    15 |IP:    16 |DR:          2 |SP:   256 |add c
  DEBUG root ACC:        233 |AR:    16 |IP:    17 |DR:          3 |SP:   256 |st a
  DEBUG root ACC:        233 |AR:    17 |IP:    18 |DR:          1 |SP:   256 |ld c
  DEBUG root ACC:        144 |AR:    18 |IP:    19 |DR:          3 |SP:   256 |add a
  DEBUG root ACC:        377 |AR:    19 |IP:    20 |DR:          1 |SP:   256 |st b
  DEBUG root ACC:        377 |AR:    20 |IP:    21 |DR:          2 |SP:   256 |jmp loop
  DEBUG root ACC:        377 |AR:     6 |IP:     7 |DR:          6 |SP:   256 |cmp limit
  DEBUG root ACC:   -3999623 |AR:     7 |IP:     8 |DR:          5 |SP:   256 |jne end
  DEBUG root ACC:   -3999623 |AR:     8 |IP:     9 |DR:         21 |SP:   256 |ld a
  DEBUG root ACC:        233 |AR:     9 |IP:    10 |DR:          1 |SP:   256 |add b
  DEBUG root ACC:        610 |AR:    10 |IP:    11 |DR:          2 |SP:   256 |st c
  DEBUG root ACC:        610 |AR:    11 |IP:    12 |DR:          3 |SP:   256 |ld c
  DEBUG root ACC:        610 |AR:    12 |IP:    13 |DR:          3 |SP:   256 |add sum
  DEBUG root ACC:        798 |AR:    13 |IP:    14 |DR:          4 |SP:   256 |st sum
  DEBUG root ACC:        798 |AR:    14 |IP:    15 |DR:          4 |SP:   256 |ld b
  DEBUG root ACC:        377 |AR:    15 |IP:    16 |DR:          2 |SP:   256 |add c
  DEBUG root ACC:        987 |AR:    16 |IP:    17 |DR:          3 |SP:   256 |st a
  DEBUG root ACC:        987 |AR:    17 |IP:    18 |DR:          1 |SP:   256 |ld c
  DEBUG root ACC:        610 |AR:    18 |IP:    19 |DR:          3 |SP:   256 |add a
  DEBUG root ACC:       1597 |AR:    19 |IP:    20 |DR:          1 |SP:   256 |st b
  DEBUG root ACC:       1597 |AR:    20 |IP:    21 |DR:          2 |SP:   256 |jmp loop
  DEBUG root ACC:       1597 |AR:     6 |IP:     7 |DR:          6 |SP:   256 |cmp limit
  DEBUG root ACC:   -3998403 |AR:     7 |IP:     8 |DR:          5 |SP:   256 |jne end
  DEBUG root ACC:   -3998403 |AR:     8 |IP:     9 |DR:         21 |SP:   256 |ld a
  DEBUG root ACC:        987 |AR:     9 |IP:    10 |DR:          1 |SP:   256 |add b
  DEBUG root ACC:       2584 |AR:    10 |IP:    11 |DR:          2 |SP:   256 |st c
  DEBUG root ACC:       2584 |AR:    11 |IP:    12 |DR:          3 |SP:   256 |ld c
  DEBUG root ACC:       2584 |AR:    12 |IP:    13 |DR:          3 |SP:   256 |add sum
  DEBUG root ACC:       3382 |AR:    13 |IP:    14 |DR:          4 |SP:   256 |st sum
  DEBUG root ACC:       3382 |AR:    14 |IP:    15 |DR:          4 |SP:   256 |ld b
  DEBUG root ACC:       1597 |AR:    15 |IP:    16 |DR:          2 |SP:   256 |add c
  DEBUG root ACC:       4181 |AR:    16 |IP:    17 |DR:          3 |SP:   256 |st a
  DEBUG root ACC:       4181 |AR:    17 |IP:    18 |DR:          1 |SP:   256 |ld c
  DEBUG root ACC:       2584 |AR:    18 |IP:    19 |DR:          3 |SP:   256 |add a
  DEBUG root ACC:       6765 |AR:    19 |IP:    20 |DR:          1 |SP:   256 |st b
  DEBUG root ACC:       6765 |AR:    20 |IP:    21 |DR:          2 |SP:   256 |jmp loop
  DEBUG root ACC:       6765 |AR:     6 |IP:     7 |DR:          6 |SP:   256 |cmp limit
  DEBUG root ACC:   -3993235 |AR:     7 |IP:     8 |DR:          5 |SP:   256 |jne end
  DEBUG root ACC:   -3993235 |AR:     8 |IP:     9 |DR:         21 |SP:   256 |ld a
  DEBUG root ACC:       4181 |AR:     9 |IP:    10 |DR:          1 |SP:   256 |add b
  DEBUG root ACC:      10946 |AR:    10 |IP:    11 |DR:          2 |SP:   256 |st c
  DEBUG root ACC:      10946 |AR:    11 |IP:    12 |DR:          3 |SP:   256 |ld c
  DEBUG root ACC:      10946 |AR:    12 |IP:    13 |DR:          3 |SP:   256 |add sum
  DEBUG root ACC:      14328 |AR:    13 |IP:    14 |DR:          4 |SP:   256 |st sum
  DEBUG root ACC:      14328 |AR:    14 |IP:    15 |DR:          4 |SP:   256 |ld b
  DEBUG root ACC:       6765 |AR:    15 |IP:    16 |DR:          2 |SP:   256 |add c
  DEBUG root ACC:      17711 |AR:    16 |IP:    17 |DR:          3 |SP:   256 |st a
  DEBUG root ACC:      17711 |AR:    17 |IP:    18 |DR:          1 |SP:   256 |ld c
  DEBUG root ACC:      10946 |AR:    18 |IP:    19 |DR:          3 |SP:   256 |add a
  DEBUG root ACC:      28657 |AR:    19 |IP:    20 |DR:          1 |SP:   256 |st b
  DEBUG root ACC:      28657 |AR:    20 |IP:    21 |DR:          2 |SP:   256 |jmp loop
  DEBUG root ACC:      28657 |AR:     6 |IP:     7 |DR:          6 |SP:   256 |cmp limit
  DEBUG root ACC:   -3971343 |AR:     7 |IP:     8 |DR:          5 |SP:   256 |jne end
  DEBUG root ACC:   -3971343 |AR:     8 |IP:     9 |DR:         21 |SP:   256 |ld a
  DEBUG root ACC:      17711 |AR:     9 |IP:    10 |DR:          1 |SP:   256 |add b
  DEBUG root ACC:      46368 |AR:    10 |IP:    11 |DR:          2 |SP:   256 |st c
  DEBUG root ACC:      46368 |AR:    11 |IP:    12 |DR:          3 |SP:   256 |ld c
  DEBUG root ACC:      46368 |AR:    12 |IP:    13 |DR:          3 |SP:   256 |add sum
  DEBUG root ACC:      60696 |AR:    13 |IP:    14 |DR:          4 |SP:   256 |st sum
  DEBUG root ACC:      60696 |AR:    14 |IP:    15 |DR:          4 |SP:   256 |ld b
  DEBUG root ACC:      28657 |AR:    15 |IP:    16 |DR:          2 |SP:   256 |add c
  DEBUG root ACC:      75025 |AR:    16 |IP:    17 |DR:          3 |SP:   256 |st a
  DEBUG root ACC:      75025 |AR:    17 |IP:    18 |DR:          1 |SP:   256 |ld c
  DEBUG root ACC:      46368 |AR:    18 |IP:    19 |DR:          3 |SP:   256 |add a
  DEBUG root ACC:     121393 |AR:    19 |IP:    20 |DR:          1 |SP:   256 |st b
  DEBUG root ACC:     121393 |AR:    20 |IP:    21 |DR:          2 |SP:   256 |jmp loop
  DEBUG root ACC:     121393 |AR:     6 |IP:     7 |DR:          6 |SP:   256 |cmp limit
  DEBUG root ACC:   -3878607 |AR:     7 |IP:     8 |DR:          5 |SP:   256 |jne end
  DEBUG root ACC:   -3878607 |AR:     8 |IP:     9 |DR:         21 |SP:   256 |ld a
  DEBUG root ACC:      75025 |AR:     9 |IP:    10 |DR:          1 |SP:   256 |add b
  DEBUG root ACC:     196418 |AR:    10 |IP:    11 |DR:          2 |SP:   256 |st c
  DEBUG root ACC:     196418 |AR:    11 |IP:    12 |DR:          3 |SP:   256 |ld c
  DEBUG root ACC:     196418 |AR:    12 |IP:    13 |DR:          3 |SP:   256 |add sum
  DEBUG root ACC:     257114 |AR:    13 |IP:    14 |DR:          4 |SP:   256 |st sum
  DEBUG root ACC:     257114 |AR:    14 |IP:    15 |DR:          4 |SP:   256 |ld b
  DEBUG root ACC:     121393 |AR:    15 |IP:    16 |DR:          2 |SP:   256 |add c
  DEBUG root ACC:     317811 |AR:    16 |IP:    17 |DR:          3 |SP:   256 |st a
  DEBUG root ACC:     317811 |AR:    17 |IP:    18 |DR:          1 |SP:   256 |ld c
  DEBUG root ACC:     196418 |AR:    18 |IP:    19 |DR:          3 |SP:   256 |add a
  DEBUG root ACC:     514229 |AR:    19 |IP:    20 |DR:          1 |SP:   256 |st b
  DEBUG root ACC:     514229 |AR:    20 |IP:    21 |DR:          2 |SP:   256 |jmp loop
  DEBUG root ACC:     514229 |AR:     6 |IP:     7 |DR:          6 |SP:   256 |cmp limit
  DEBUG root ACC:   -3485771 |AR:     7 |IP:     8 |DR:          5 |SP:   256 |jne end
  DEBUG root ACC:   -3485771 |AR:     8 |IP:     9 |DR:         21 |SP:   256 |ld a
  DEBUG root ACC:     317811 |AR:     9 |IP:    10 |DR:          1 |SP:   256 |add b
  DEBUG root ACC:     832040 |AR:    10 |IP:    11 |DR:          2 |SP:   256 |st c
  DEBUG root ACC:     832040 |AR:    11 |IP:    12 |DR:          3 |SP:   256 |ld c
  DEBUG root ACC:     832040 |AR:    12 |IP:    13 |DR:          3 |SP:   256 |add sum
  DEBUG root ACC:    1089154 |AR:    13 |IP:    14 |DR:          4 |SP:   256 |st sum
  DEBUG root ACC:    1089154 |AR:    14 |IP:    15 |DR:          4 |SP:   256 |ld b
  DEBUG root ACC:     514229 |AR:    15 |IP:    16 |DR:          2 |SP:   256 |add c
  DEBUG root ACC:    1346269 |AR:    16 |IP:    17 |DR:          3 |SP:   256 |st a
  DEBUG root ACC:    1346269 |AR:    17 |IP:    18 |DR:          1 |SP:   256 |ld c
  DEBUG root ACC:     832040 |AR:    18 |IP:    19 |DR:          3 |SP:   256 |add a
  DEBUG root ACC:    2178309 |AR:    19 |IP:    20 |DR:          1 |SP:   256 |st b
  DEBUG root ACC:    2178309 |AR:    20 |IP:    21 |DR:          2 |SP:   256 |jmp loop
  DEBUG root ACC:    2178309 |AR:     6 |IP:     7 |DR:          6 |SP:   256 |cmp limit
  DEBUG root ACC:   -1821691 |AR:     7 |IP:     8 |DR:          5 |SP:   256 |jne end
  DEBUG root ACC:   -1821691 |AR:     8 |IP:     9 |DR:         21 |SP:   256 |ld a
  DEBUG root ACC:    1346269 |AR:     9 |IP:    10 |DR:          1 |SP:   256 |add b
  DEBUG root ACC:    3524578 |AR:    10 |IP:    11 |DR:          2 |SP:   256 |st c
  DEBUG root ACC:    3524578 |AR:    11 |IP:    12 |DR:          3 |SP:   256 |ld c
  DEBUG root ACC:    3524578 |AR:    12 |IP:    13 |DR:          3 |SP:   256 |add sum
  DEBUG root ACC:    4613732 |AR:    13 |IP:    14 |DR:          4 |SP:   256 |st sum
  DEBUG root ACC:    4613732 |AR:    14 |IP:    15 |DR:          4 |SP:   256 |ld b
  DEBUG root ACC:    2178309 |AR:    15 |IP:    16 |DR:          2 |SP:   256 |add c
  DEBUG root ACC:    5702887 |AR:    16 |IP:    17 |DR:          3 |SP:   256 |st a
  DEBUG root ACC:    5702887 |AR:    17 |IP:    18 |DR:          1 |SP:   256 |ld c
  DEBUG root ACC:    3524578 |AR:    18 |IP:    19 |DR:          3 |SP:   256 |add a
  DEBUG root ACC:    9227465 |AR:    19 |IP:    20 |DR:          1 |SP:   256 |st b
  DEBUG root ACC:    9227465 |AR:    20 |IP:    21 |DR:          2 |SP:   256 |jmp loop
  DEBUG root ACC:    9227465 |AR:     6 |IP:     7 |DR:          6 |SP:   256 |cmp limit
  DEBUG root ACC:    5227465 |AR:     7 |IP:     8 |DR:          5 |SP:   256 |jne end
  DEBUG root ACC:    5227465 |AR:    21 |IP:    22 |DR:         21 |SP:   256 |ld sum
  DEBUG root ACC:    4613732 |AR:    22 |IP:    23 |DR:          4 |SP:   256 |out
  4613732
  DEBUG root ACC:    4613732 |AR:    23 |IP:    24 |DR:          4 |SP:   256 |hlt